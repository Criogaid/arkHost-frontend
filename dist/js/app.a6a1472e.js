(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,v=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("8204")},"7bd9":function(t,e,a){},"81c1":function(t,e,a){"use strict";a("7bd9")},8204:function(t,e,a){"use strict";a.r(e);var s=a("de2d"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-navigation-drawer",{attrs:{"mini-variant":!!t.mini&&!s,app:"",clipped:!0,width:"250"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item-group",{model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[a("v-list",{attrs:{nav:"",dense:"",shaped:""}},[a("v-list-item",{on:{click:function(e){t.$router.push("/dashboard").catch((function(t){}))}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-title",[t._v("首页")])],1),a("v-list-group",{attrs:{"v-model":!0,"prepend-icon":"mdi-collage","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("托管列表")])],1)]},proxy:!0}],null,!0)},t._l(t.list,(function(e){return a("v-list-item",{on:{click:function(a){t.$router.push({name:"账号详情",params:{account:e.config.account,platform:e.config.platform}}).catch((function(t){}))}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.config.account.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")))])],1)],1)})),1)],1),a("v-subheader",{staticStyle:{height:"12px",padding:"0"}},[a("v-divider"),a("v-divider")],1),a("v-list",{directives:[{name:"show",rawName:"v-show",value:t.user.isLogin,expression:"user.isLogin"}],attrs:{nav:"",dense:""}},[t._l(t.menu,(function(e){return a("v-list-item",{on:{click:function(a){return t.$router.push(e.event)}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.name))])],1)})),a("v-list-item",{on:{click:t.logout}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-logout")])],1),a("v-list-item-title",[t._v("安全退出")])],1)],2)],1),a("v-list",{directives:[{name:"show",rawName:"v-show",value:!t.user.isLogin,expression:"!user.isLogin"}],attrs:{nav:"",dense:""}},[a("v-list-item",{on:{click:t.login}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-login")])],1),a("v-list-item-title",[t._v("快速登录")])],1)],1)],1)]}}])}),a("v-app-bar",{attrs:{"clipped-left":!0,app:""}},[a("v-app-bar-nav-icon",{ref:"banner",on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t.$vuetify.breakpoint.smAndDown?[a("v-toolbar-title",{staticClass:"pl-0",domProps:{textContent:t._s(t.$route.name)}}),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-plus")])],1)]:[a("v-toolbar-title",{staticClass:"pl-5",on:{click:function(e){t.$router.push("/").catch((function(t){})),t.selectedItem=0}}},[t._v("可露希尔工作室")]),a("v-spacer"),a("div",{staticClass:"align-center d-flex"},[t.user.isLogin?[a("v-btn",{attrs:{large:""},on:{click:t.logout}},[t._v(" 退出登录 ")])]:[a("v-btn",{staticClass:"mx-4",attrs:{large:""},on:{click:t.login}},[t._v(" 登录 ")]),a("v-btn",{attrs:{outlined:"",large:""},on:{click:t.register}},[t._v(" 注册 ")])]],2)]],2),a("v-main",[a("notifications",{attrs:{position:"center"}}),a("v-container",[a("v-card",{staticClass:"d-flex align-center mb-2",attrs:{tile:""}},[a("v-breadcrumbs",{attrs:{items:t.items,divider:">"}}),a("v-spacer"),a("v-chip",{staticClass:"mr-6",attrs:{color:"green",label:"",outlined:""}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-cube-outline ")]),t._v("当前版本: 114514")],1)],1),a("router-view",{on:{alert:t.alert}})],1),a("notice",{ref:"notice",attrs:{visible:t.showNotice,title:t.title},on:{"update:visible":function(e){t.showNotice=e},close:function(e){t.showNotice=!1},submit:t.subNotice}})],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" 提示 ")]),a("span",{staticClass:"text--secondary pl-6"},[t._v(t._s(this.title))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v(" 取消 ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.submit}},[t._v(" 确认 ")])],1)],1)],1)},o=[],l={props:{visible:{type:Boolean},title:{type:String}},computed:{show:{set(t){this.$emit("close",t)},get(){return this.visible}}},methods:{submit(){this.show=!1,this.$emit("submit",!0)}}},c=l,u=a("7025"),d=a("eff9"),v=a.n(d),p=a("bd79"),m=a("f400"),h=a("d507"),f=a("b5d6"),b=a("d3c9"),g=Object(u["a"])(c,n,o,!1,null,null,null),y=g.exports;v()(g,{VBtn:p["a"],VCard:m["a"],VCardActions:h["a"],VCardTitle:h["c"],VDialog:f["a"],VSpacer:b["a"]});var _=a("b015"),x=a.n(_);function w(t,e){return new Promise(a=>{x.a.post(t,e).then(t=>{a(t)})})}function $(t){return new Promise(e=>{x.a.get(t).then(t=>{e(t)})})}function k(t,e){return new Promise(a=>{x.a.delete(t,{data:e}).then(t=>{a(t)})})}x.a.defaults.baseURL="https://api.arknights.host/",x.a.interceptors.response.use(t=>t.data,t=>{s["default"].notify({type:"e",duration:5e4,title:"请求时发生意外",text:`如反复出现请提issue<br>当前请求：<code>${t.config.url}</code><br>请求返回：${t.message}`})});var C=x.a;const V=t=>w("Auth",t),L=t=>$("Auth/"+t),D=t=>$("Auth/"+t),S=()=>$("Nodes"),A=()=>$("System/Announcement"),j=t=>w("Game",t),T=t=>w("Game/Login",t),O=()=>$("Game"),B=t=>k("Game",t),I=(t,e)=>$(`Game/Screenshot/${t}/${e}`),P=(t,e)=>$(`Game/${t}/${e}`),E=(t,e)=>$(`Game/Config/${t}/${e}`),z=(t,e,a)=>w(`Game/Config/${t}/${e}`,a),R=(t,e,a)=>$(`Log/${t}/${e}/${a}`),N=(t,e)=>$(`Game/Screenshots/${t}/${e}`),G=()=>$("https://jackjieyyy.github.io/ArknightsGameData/zh_CN/gamedata/excel/activity_table.json");var F={components:{Notice:y},data:()=>({drawer:!1,selectedItem:0,showNotice:!1,title:"",subNotice:"",list:[]}),computed:{items(){return[{text:"可露希尔",disabled:!1,to:{path:"/"}},{text:this.$route.name,disabled:!0}]},menu(){return this.user.isLogin?[{name:"个人设置",event:"/setting",icon:"mdi-cogs"},{name:"服务监控",event:"/cron",icon:"mdi-power-plug"},{name:"后勤分队",event:"/contributors",icon:"mdi-account-group"}]:[{name:"快速登录",event:this.login,icon:"mdi-login"}]},user(){return this.$store.state.user},mini(){return!this.$vuetify.breakpoint.smAndDown&&!0}},methods:{login(){this.$router.push("/login").catch(t=>{})},register(){this.$router.push("/register").catch(t=>{})},logout(){this.alert("真的要退出吗?",()=>{this.showNotice=!1,this.$notify({type:"s",text:"你已安全退出"}),this.$store.dispatch("user/exit"),this.$router.push("/")})},alert(t,e){this.showNotice=!0,this.title=t,this.subNotice=e}},created(){this.user.token?((Date.now()-this.user.lastLoginTs)/1e3>43200&&D(this.user.token).then(t=>{t.code&&(this.$store.dispatch("user/load",t.data),this.$notify({type:"w",text:"自动登录成功"}))}),this.axios.defaults.headers["Authorization"]=this.user.token,O().then(t=>{t.code?this.list=t.data:this.$notify({type:"w",title:"获取托管信息失败",text:t.message})})):this.$notify("还没登录呢")}},q=F,M=a("e678"),Z=a("e77b"),H=a("9538"),U=a("c48b"),J=a("94af"),Y=a("0a55"),K=a("bcce"),Q=a("0799"),W=a("a61c"),X=a("5e8d"),tt=a("06b6"),et=a("4da3"),at=a("8b6e"),st=a("f097"),it=a("3e3b"),rt=a("ca54"),nt=a("b851"),ot=a("d34d"),lt=a("7675"),ct=Object(u["a"])(q,i,r,!1,null,null,null),ut=ct.exports;v()(ct,{VApp:M["a"],VAppBar:Z["a"],VAppBarNavIcon:H["a"],VBreadcrumbs:U["a"],VBtn:p["a"],VCard:m["a"],VChip:J["a"],VContainer:Y["a"],VDivider:K["a"],VHover:Q["a"],VIcon:W["a"],VList:X["a"],VListGroup:tt["a"],VListItem:et["a"],VListItemContent:at["a"],VListItemGroup:st["a"],VListItemIcon:it["a"],VListItemTitle:at["b"],VMain:rt["a"],VNavigationDrawer:nt["a"],VSpacer:b["a"],VSubheader:ot["a"],VToolbarTitle:lt["a"]});var dt=a("9981"),vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"d-flex justify-space-around pt-9"},[a("v-btn",{staticClass:"px-9 py-2",attrs:{"x-large":"",tile:"",color:"green",outlined:""},on:{click:function(e){return t.$router.push("/login")}}},[t._v("登录")]),a("v-btn",{staticClass:"px-9 py-2",attrs:{"x-large":"",tile:"",color:"orange",outlined:""},on:{click:function(e){return t.$router.push("/register")}}},[t._v("注册")])],1)])},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-center my-4 mt-9 flex-column"},[s("img",{staticClass:"mt-5",attrs:{src:a("c5e7"),height:"128px"}}),s("span",{staticClass:"text-h4"},[t._v("可露希尔云挂机")]),s("span",{staticClass:"subtitle-1 text--secondary"},[t._v("云手机全自动远程托管")])])}],mt=(a("81c1"),{}),ht=Object(u["a"])(mt,vt,pt,!1,null,"9e875254",null),ft=ht.exports;v()(ht,{VBtn:p["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"my-4"},[a("v-card-title",{staticClass:"ml-2 orange--text"},[t._v("平台公告")]),a("div",{staticClass:"pb-4 ml-6"},[a("span",{staticClass:"text-h6"},[t._v("  "+t._s(this.ann))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-card",[a("v-card-title",{staticStyle:{"place-content":"center"}},[t._v("快速开始")]),a("v-form",{ref:"skadiD"},[a("v-row",[a("v-col",{staticClass:"mx-3"},[a("v-select",{attrs:{items:t.server,outlined:"",label:"选择服务器","menu-props":{offsetY:!0},"return-object":"",rules:t.rule,"item-value":"id","item-text":"name"},model:{value:t.selServer,callback:function(e){t.selServer=e},expression:"selServer"}}),a("v-text-field",{attrs:{label:"账号",outlined:"",required:"",rules:t.rule},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("v-text-field",{attrs:{label:"密码",outlined:"",required:"",rules:t.rule},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{block:"",tile:"",large:""},on:{click:t.addAccount}},[t._v("添加托管")])],1)],1)],1),a("Loading",{attrs:{overlay:t.overlay}})],1)],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-card",[a("v-card-title",{staticClass:"ml-2",staticStyle:{"place-content":"center"}},[t._v("托管列表"),a("v-icon",{attrs:{right:"",size:"20"},on:{click:t.loadList}},[t._v("mdi-refresh")])],1),a("Loading",{attrs:{overlay:t.overlay2}}),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",t._l(t.head,(function(e){return a("th",{staticClass:"text-center"},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",t._l(t.gameList,(function(e,s){return a("tr",{staticClass:"text-center"},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.config.account.replace(/(\d{3})\d{4}(\d{4})/,"$1囗囗囗囗$2")))]),a("td",[t._v(t._s(t.serverList[e.config.platform]))]),a("td",[t._v(t._s(e.config["isPause"]?"暂停":"运行中"))]),a("td",{domProps:{innerHTML:t._s(t.status(e.status))}}),a("td",[a("v-btn",{attrs:{small:"",color:"warning"},on:{click:function(a){return t.login(e.config.account,e.config.platform)}}},[t._v("登录")]),a("v-btn",{staticClass:"mx-2",attrs:{small:"",color:"green"},on:{click:function(a){return t.getScreen(e.config.account,e.config.platform)}}},[t._v("截图")]),a("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"info"},on:{click:function(a){t.$router.push({name:"账号详情",params:{account:e.config.account,platform:e.config.platform}}).catch((function(t){}))}}},[t._v("详情")]),a("v-btn",{attrs:{small:"",color:"error"},on:{click:function(a){return t.del(e.config.account,e.config.platform)}}},[t._v("删除")])],1)])})),0)]},proxy:!0}])})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-alert",{attrs:{type:"info"}},[t._v("Bug汇报,使用交流群: 450555868"),a("br"),t._v("非盈利性公益项目,且用且珍惜"),a("br"),t._v("请勿泄露您的任何账号"),a("br"),t._v("请勿肆处宣扬本网站"),a("br"),t._v("感谢您的使用")])],1)],1)],1)},gt=[],yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-overlay",{attrs:{absolute:!0,value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},_t=[],xt={props:{overlay:{type:Boolean,default:!1}}},wt=xt,$t=a("4917"),kt=a("7064"),Ct=Object(u["a"])(wt,yt,_t,!1,null,null,null),Vt=Ct.exports;v()(Ct,{VOverlay:$t["a"],VProgressCircular:kt["a"]});var Lt={components:{Loading:Vt},data:()=>({ann:"登录后查看",server:[{id:0,name:"IOS"},{id:1,name:"安卓官方"},{id:2,name:"Bilibili"}],rule:[t=>!!t||"!!!!!!!!!!!!!!"],selServer:{id:1},account:"",password:"",overlay:!1,overlay2:!1,head:["序号","账号","所属平台","运行状态","账号状态","操作"],gameList:[],serverList:["IOS","官服","B服"]}),methods:{del(t,e){this.$emit("alert","真的要删除账号吗?",()=>{B({account:t,platform:e}).then(async t=>{t.code?(await this.loadList(),this.$notify("删除成功")):this.$notify({type:"w",title:"删除失败",text:t.message})})})},status(t){switch(t.code){case-1:return`<span style="color:red">${t.text}</span>`;case 0:return'<span style="color:orange">未开启</span>';case 1:return'<span style="color:skyblue">登录中</span>';case 2:return'<span style="color:green">运行中</span>';case 3:return"游戏错误"}},addAccount(){this.$refs.skadiD.validate()&&(this.overlay=!0,j({platform:this.selServer.id,account:this.account,password:this.password}).then(t=>{t.code?(this.$notify("添加托管成功"),this.overlay=!1,this.$router.go(0)):(this.$notify({type:"w",title:"添加托管失败",text:t.message}),this.overlay=!1)}))},getScreen(t,e){I(t,e).then(t=>{t.code?alert("等待实装ing"):this.$notify({type:"w",title:"获取截图失败",text:t.message})})},login(t,e){T({account:t,platform:e}).then(async t=>{t.code?this.$notify("操作成功"):this.$notify({type:"w",title:"操作失败",text:t.message}),await this.loadList()})},async loadList(){this.overlay2=!0,await O().then(t=>{t.code?(this.gameList=t.data,this.overlay2=!1):(this.$notify({type:"w",title:"获取托管信息失败",text:t.message}),this.overlay2=!1)})}},async created(){await A().then(t=>{t.code&&(this.ann=t.data)}),await this.loadList()}},Dt=Lt,St=a("fdf6"),At=a("ec30"),jt=a("7fea"),Tt=a("2117"),Ot=a("6a52"),Bt=a("d617"),It=a("e04c"),Pt=Object(u["a"])(Dt,bt,gt,!1,null,null,null),Et=Pt.exports;v()(Pt,{VAlert:St["a"],VBtn:p["a"],VCard:m["a"],VCardTitle:h["c"],VCol:At["a"],VForm:jt["a"],VIcon:W["a"],VRow:Tt["a"],VSelect:Ot["a"],VSimpleTable:Bt["a"],VTextField:It["a"]});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.$vuetify.breakpoint.smAndDown?"":"d-flex align-center flex-column"},[t._m(0),a("v-form",{ref:"form",style:t.$vuetify.breakpoint.smAndDown?"":"width: 50%",attrs:{"v-model":!0,"lazy-validation":""}},[a("v-text-field",{attrs:{label:"邮箱",outlined:"",required:"",rules:t.emailRules,"prepend-inner-icon":"mdi-email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"密码",outlined:"",required:"",rules:t.pwdRule,type:"password","prepend-inner-icon":"mdi-lock"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-row",{style:t.$vuetify.breakpoint.smAndDown?"":"width: 52%"},[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{large:"",block:"",tile:""},on:{click:t.reg}},[t._v("注册")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{large:"",block:"",tile:"",outlined:"",disabled:t.disabled},on:{click:t.login}},[t._v("登录")])],1)],1)],1)},Rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-center"},[s("img",{staticClass:"my-7",attrs:{src:a("c5e7"),height:"128px"}})])}],Nt={data:()=>({email:"",password:"",emailRules:[t=>!!t||"请输入邮箱地址",t=>/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)||"你这是邮箱吗!"],pwdRule:[t=>!!t||"请输入密码"],disabled:!1}),methods:{reg(){this.$router.push("/register")},login(){this.$refs.form.validate()?(this.disabled=!0,this.$notify("少女折寿中..."),L(`${this.email}/${this.password}`).then(t=>{t.code?(this.$store.dispatch("user/load",t.data),this.$notify({type:"s",text:"登录成功，欢迎来到可露希尔的午夜商超"}),this.$router.push("/dashboard")):this.$notify({type:"w",title:"登录失败",text:t.message}),this.disabled=!1})):this.$notify({title:"提示",text:"填写的信息不对啊"})}}},Gt=Nt,Ft=Object(u["a"])(Gt,zt,Rt,!1,null,null,null),qt=Ft.exports;v()(Ft,{VBtn:p["a"],VCol:At["a"],VForm:jt["a"],VRow:Tt["a"],VTextField:It["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.$vuetify.breakpoint.smAndDown?"":"d-flex align-center flex-column"},[t._m(0),a("v-form",{ref:"form",style:t.$vuetify.breakpoint.smAndDown?"":"width: 50%",attrs:{"v-model":!0,"lazy-validation":""}},[a("v-text-field",{attrs:{label:"邮箱",outlined:"",required:"",rules:t.emailRules,"prepend-inner-icon":"mdi-email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("v-text-field",{attrs:{label:"密码",outlined:"",required:"",rules:t.pwdRule,"prepend-inner-icon":"mdi-lock"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),a("v-text-field",{attrs:{label:"重复密码",outlined:"",required:"",rules:t.pwd2Rules,"prepend-inner-icon":"mdi-lock"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-row",{style:t.$vuetify.breakpoint.smAndDown?"":"width: 52%"},[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{large:"",block:"",tile:""},on:{click:function(e){return t.$router.push("/login")}}},[t._v("登录")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{large:"",block:"",tile:"",outlined:"",disabled:t.disabled},on:{click:t.reg}},[t._v("注册")])],1)],1)],1)},Zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-center"},[s("img",{staticClass:"my-7",attrs:{src:a("c5e7"),height:"128px"}})])}],Ht={data(){return{user:{email:"",password:""},emailRules:[t=>!!t||"请输入邮箱地址",t=>/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)||"你这是邮箱吗!"],pwdRule:[t=>!!t||"请输入密码"],pwd2Rules:[t=>!!t||"请再次输入密码",t=>t===this.user.password||"这都能写错? "],password:"",disabled:!1}},methods:{reg(){this.$refs.form.validate()?(this.disabled=!0,this.$notify("少女折寿中..."),V(this.user).then(t=>{console.log(t),t.code?(this.$notify({type:"s",text:"注册成功，自动跳转中..."}),this.$store.dispatch("user/load",t.data),this.$router.push("/dashboard")):this.$notify({title:"注册失败",text:t.message}),this.disabled=!1})):this.$notify({title:"提示",text:"填写的信息不对啊"})}}},Ut=Ht,Jt=Object(u["a"])(Ut,Mt,Zt,!1,null,null,null),Yt=Jt.exports;v()(Jt,{VBtn:p["a"],VCol:At["a"],VForm:jt["a"],VRow:Tt["a"],VTextField:It["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-alert",{staticClass:"my-4",attrs:{type:"info",dense:""}},[t._v(" 受网络波动影响, 本页面显示的数据仅供参考 ")]),a("v-row",[t._l(t.server,(function(e){return a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12"}},[a("v-card",{staticClass:"mb-4"},[a("v-card-title",{staticClass:"py-2"},[a("span",{class:Date.parse(new Date)/1e3-e["update_UTCTime"]>300?"red--text":"green--text"},[t._v("#"+t._s(e.number)+" - "+t._s(e.name))])]),a("div",{staticClass:"pa-4 pt-0"},[t._v(" CPU占用："+t._s(e["cpu"].toFixed(2))+"%"),a("br"),t._v(" 上线时间："),a("span",{staticClass:"text--secondary"},[t._v(t._s(t.formatDate(e["boot_UTCTime"],!0)))]),a("br"),t._v(" 最近更新："),a("span",{staticClass:"text--secondary"},[t._v(t._s(t.formatDate(e["update_UTCTime"],!0)))]),a("br"),t._v(" 内存占用："+t._s((100-e["memory"]["available"]/e["memory"]["total"]*100).toFixed(2))+"% "),a("v-progress-linear",{staticClass:"mt-1",attrs:{value:(100-e["memory"]["available"]/e["memory"]["total"]*100).toFixed(2)}})],1),a("Loading",{attrs:{overlay:t.overlay}})],1)],1)})),a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-btn",{attrs:{block:"",tile:"",large:"",disabled:t.overlay},on:{click:t.load}},[t._v(t._s(t.overlay?"请稍等":"更新数据"))])],1)],2)],1)},Qt=[],Wt={components:{Loading:Vt},data:()=>({server:[],overlay:!1}),methods:{load(){this.overlay=!0,S().then(t=>{t.code?(this.server=t.data,this.overlay=!1,this.$notify("获取最新数据成功")):this.$notify({type:"w",text:"加载监控记录失败"})})}},async created(){await this.load()}},Xt=Wt,te=a("1785"),ee=Object(u["a"])(Xt,Kt,Qt,!1,null,null,null),ae=ee.exports;v()(ee,{VAlert:St["a"],VBtn:p["a"],VCard:m["a"],VCardTitle:h["c"],VCol:At["a"],VProgressLinear:te["a"],VRow:Tt["a"]});var se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",t._l(t.teams,(function(e){return a("v-col",{attrs:{cols:"6",md:"3",sm:"6",lg:"4"}},[a("v-card",{staticClass:"d-flex align-center py-4 flex-column"},[a("v-avatar",{staticClass:"mb-4",attrs:{size:"128"}},[a("img",{attrs:{src:"https://res.arknights.host/team/"+e[1]+".png",alt:"skadiD"}})]),a("span",{staticClass:"text-h5"},[t._v(t._s(e[0]))])],1)],1)})),1)},ie=[],re={data(){return{teams:[["GK","563255057"],["Ooooooutdated","1228138940"],["32方混淆","2370275150"],["孤星","2823706257"],["skadiD","10003653"]]}},created(){console.log("你有没有想过朋友不再是朋友"),console.log("家园不再是家园?")}},ne=re,oe=a("de08"),le=Object(u["a"])(ne,se,ie,!1,null,null,null),ce=le.exports;v()(le,{VAvatar:oe["a"],VCard:m["a"],VCol:At["a"],VRow:Tt["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"my-4"},[a("v-card-title",{staticClass:"ml-2"},[t._v("托管详情 "),a("span",{staticClass:"text--secondary ml-2"},[t._v("- "+t._s(t.$route.params.account.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")))]),a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{large:"",tile:"",color:"orange",outlined:""},on:{click:function(e){t.model=!0,t.getConf()}}},[t._v("修改信息")])],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"ml-5 mt-3"},[a("v-badge",{attrs:{inline:"",tile:"",content:"助理"}}),a("br"),a("span",{staticClass:"subtitle-1"},[t._v("浊心斯卡蒂")])],1)])],1)],1),a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(" 实时截图 ")]),a("v-expansion-panel-content",[a("v-carousel",{attrs:{cycle:"","hide-delimiter-background":"","show-arrows":!1,height:"100%"}},t._l(t.screenshots,(function(t,e){return a("v-carousel-item",{key:e,attrs:{eager:"",src:t.url}})})),1)],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(" 编队信息 ")]),a("v-expansion-panel-content",[a("v-tabs",{attrs:{dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.details.troop.squads,(function(e){return a("v-tab",[t._v(" "+t._s(e.name)+" ")])})),1),a("v-divider"),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.details.troop.squads,(function(e){return a("v-tab-item",[a("v-card",{staticClass:"my-3",attrs:{flat:""}},[a("v-row",t._l(e["slots"],(function(e){return e?a("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"6"}},[a("Character",{attrs:{char:t.details.troop.chars[e["charInstId"]]}})],1):t._e()})),1)],1)],1)})),1)],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(" 仓库统计 ")]),a("v-expansion-panel-content")],1)],1),a("v-dialog",{attrs:{width:"450"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("修改托管信息")]),a("v-card-text",[a("v-form",{attrs:{refs:"doctor"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"自动作战地图"},model:{value:t.map,callback:function(e){t.map=e},expression:"map"}}),a("v-text-field",{attrs:{label:"最小保留理智"},model:{value:t.ap,callback:function(e){t.ap=e},expression:"ap"}}),a("div",{staticClass:"d-flex justify-space-between"},[a("v-switch",{attrs:{label:"自动战斗"},model:{value:t.autoBattle,callback:function(e){t.autoBattle=e},expression:"autoBattle"}}),a("v-switch",{attrs:{label:"暂停托管"},model:{value:t.pause,callback:function(e){t.pause=e},expression:"pause"}})],1),a("v-btn",{attrs:{block:"",tile:"",large:""},on:{click:t.submitEdit}},[t._v("提交修改")])],1)],1)],1)],1)],1)],1)],1)},de=[],ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"128px"}},[a("v-row",{staticStyle:{margin:"0",height:"100%"}},[a("v-col",{style:"padding:5px 0 0 0;background:url("+t.src+"avatar/ASSISTANT/"+t.char["charId"]+".webp) center bottom / 95% no-repeat",attrs:{cols:"4"}},[a("v-avatar",{staticStyle:{"-webkit-box-shadow":"2px 2px 2px #1e1e1e",float:"right"},attrs:{size:"32",tile:""}},[a("img",{staticStyle:{filter:"invert(100%)"},attrs:{src:"/assets/group/Caster.png"}})]),a("v-avatar",{attrs:{color:"purple",rounded:"",size:"36"}},[t._v(" "+t._s(t.char["level"])+" ")])],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"2"}},[a("v-divider",{staticClass:"mr-2",attrs:{vertical:""}}),a("div",{staticClass:"d-flex flex-column justify-space-between"},[a("v-avatar",{attrs:{tile:"",size:"48"}},[a("img",{attrs:{src:"/assets/e"+t.char["evolvePhase"]+".png"}})]),a("v-avatar",{attrs:{size:"48"}},[a("img",{attrs:{src:"/assets/rank/"+t.char["potentialRank"]+".png"}})])],1)],1),t._l(t.char["skills"],(function(e){return a("v-col",{staticClass:"d-flex flex-column align-center justify-center",attrs:{cols:"2"}},[a("v-badge",{attrs:{color:e["specializeLevel"]?"red":"blue",bordered:"",right:"",overlap:"",content:e["specializeLevel"]?e["specializeLevel"]:t.char["mainSkillLvl"]}},[a("v-avatar",{attrs:{tile:"",size:t.$vuetify.breakpoint.smAndDown?"36":"50"}},[a("img",{attrs:{src:t.src+"static/skills/skill_icon_"+e["skillId"]+".webp"}})])],1)],1)}))],2)],1)},pe=[],me={data(){return{src:"https://res.arknights.host/dst/"}},props:{char:{type:Object,default:()=>{}}}},he=me,fe=a("a4f0"),be=Object(u["a"])(he,ve,pe,!1,null,null,null),ge=be.exports;v()(be,{VAvatar:oe["a"],VBadge:fe["a"],VCard:m["a"],VCol:At["a"],VDivider:K["a"],VRow:Tt["a"]});var ye={components:{Character:ge},data:()=>({details:{},model:!1,map:"",ap:"",pause:!1,autoBattle:!0,screenshots:[],tab:0}),async created(){this.loadData(),await this.getScreen(),await G(),console.log("你有没有听见海猫的悲鸣?")},methods:{async getConf(){await E(this.$route.params.account,this.$route.params.platform).then(t=>{t.code?(this.ap=t.data.reserveAp,this.map=t.data.mapId,this.autoBattle=t.data.isAutoBattle,this.pause=t.data.isPause):this.$notify({type:"w",title:"获取信息失败",text:t.message})})},async getScreen(){await N(this.$route.params.account,this.$route.params.platform).then(t=>{t.code?this.screenshots=t.data:this.$notify({type:"w",title:"获取实时截图失败",text:t.message})})},loadData(){this.$route.params.account&&this.$store.state.user.isLogin?P(this.$route.params.account,this.$route.params.platform).then(t=>{t.code?(console.log(t.code),this.details=t.data):this.$notify({type:"w",title:"获取信息失败",text:t.message})}):this.$router.push("/")},async submitEdit(){await z(this.$route.params.account,this.$route.params.platform,{account:this.$route.params.account,isAutoBattle:this.autoBattle,isPause:this.pause,mapId:this.map,platform:this.$route.params.platform,keepAp:this.ap}).then(async t=>{t.code?this.$notify("托管配置修改成功"):this.$notify({type:"w",title:"修改托管配置失败",text:t.message})})},async getDetails(){await R(this.$route.params.account,this.$route.params.platform,1)}}},_e=ye,xe=a("c9b4"),we=a("b608"),$e=a("ed9b"),ke=a("c990"),Ce=a("64ef"),Ve=a("4514"),Le=a("31eb"),De=a("211b"),Se=a("f83d"),Ae=a("f543"),je=a("c509"),Te=Object(u["a"])(_e,ue,de,!1,null,null,null),Oe=Te.exports;v()(Te,{VBadge:fe["a"],VBtn:p["a"],VCard:m["a"],VCardText:h["b"],VCardTitle:h["c"],VCarousel:xe["a"],VCarouselItem:we["a"],VCol:At["a"],VDialog:f["a"],VDivider:K["a"],VExpansionPanel:$e["a"],VExpansionPanelContent:ke["a"],VExpansionPanelHeader:Ce["a"],VExpansionPanels:Ve["a"],VForm:jt["a"],VRow:Tt["a"],VSpacer:b["a"],VSwitch:Le["a"],VTab:De["a"],VTabItem:Se["a"],VTabs:Ae["a"],VTabsItems:je["a"],VTextField:It["a"]}),s["default"].use(dt["a"]);var Be=new dt["a"]({mode:"history",routes:[{path:"/",component:ft,name:"首页"},{path:"/login",component:qt,name:"登录"},{path:"/register",component:Yt,name:"注册"},{path:"/cron",component:ae,name:"服务监控"},{path:"/details",component:Oe,name:"账号详情"},{path:"/dashboard",component:Et,name:"控制台"},{path:"/contributors",component:ce,name:"内容贡献者"}]}),Ie=a("f819"),Pe=a("9418");const Ee={namespaced:!0,state:{isLogin:!1,lastLoginTs:0},mutations:{Load(t,e){for(let a in e)t[a]=e[a];t.isLogin=!0,t.lastLoginTs=Date.now()},Exit(t){for(let e in t)t[e]=0}},actions:{load(t,e){t.commit("Load",e)},exit(t){t.commit("Exit")}}};var ze=Ee;const Re={namespaced:!0,state:{Dark:!0,Debug:!0},mutations:{Dark(t){t.Dark=!t.Dark},Debug(t){t.Debug=!t.Debug}},actions:{dark(t){t.commit("Dark")},debug(t){t.commit("Debug")}}};var Ne=Re;s["default"].use(Ie["a"]);var Ge=new Ie["a"].Store({plugins:[Object(Pe["a"])({key:"arkHost"})],modules:{user:ze,config:Ne}}),Fe=a("f85a"),qe=a.n(Fe),Me=a("8acf");s["default"].use(Me["a"]);var Ze=new Me["a"]({theme:{dark:!0}}),He=a("7d7c");a("e0a5");s["default"].config.productionTip=!1,s["default"].use(qe.a),s["default"].use(He["a"],C),s["default"].prototype.formatDate=function(t,e=!1){let a,s,i=new Date(1e3*t),r=i.getFullYear().toString(),n=i.getMonth()+1,o=i.getDate();e&&(a=i.getHours(),s=i.getMinutes(),a<10&&(a="0"+a),s<10&&(s="0"+s)),n<10&&(n="0"+n),o<10&&(o="0"+o),r=r.substring(r.length-2);let l=r+"-"+n+"-"+o+" ";return e?l+a+":"+s:l},new s["default"]({router:Be,store:Ge,vuetify:Ze,render:function(t){return t(ut)}}).$mount("#app")},c5e7:function(t,e,a){t.exports=a.p+"img/logo.6be33ad9.png"},e0a5:function(t,e,a){}});